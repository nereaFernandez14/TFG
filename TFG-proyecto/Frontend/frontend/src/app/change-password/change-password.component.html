<form [formGroup]="passwordForm" (ngSubmit)="cambiarPassword()">
  <!-- Contraseña actual -->
  <label for="currentPassword">Contraseña actual</label>
  <input
    type="password"
    id="currentPassword"
    formControlName="currentPassword"
    autocomplete="current-password"
  />
  <p *ngIf="currentPasswordError" style="color:red; margin-top: 4px;">
    {{ currentPasswordError }}
  </p>

  <!-- Nueva contraseña -->
  <label for="newPassword">Nueva contraseña</label>
  <input
    type="password"
    id="newPassword"
    formControlName="newPassword"
    autocomplete="new-password"
  />
  <p *ngIf="passwordForm.get('newPassword')?.touched && passwordForm.get('newPassword')?.hasError('minlength')"
     style="color:red">
    La nueva contraseña debe tener al menos 6 caracteres
  </p>

  <!-- Confirmar nueva contraseña -->
  <label for="confirmNewPassword">Confirmar nueva contraseña</label>
  <input
    type="password"
    id="confirmNewPassword"
    formControlName="confirmNewPassword"
    autocomplete="new-password"
  />
  <p *ngIf="passwordForm.get('confirmNewPassword')?.dirty && passwordsNoMatch"
     style="color:red">
    Las contraseñas no coinciden
  </p>

  <button type="submit" [disabled]="passwordForm.invalid || passwordsNoMatch">
    Actualizar contraseña
  </button>

  <p *ngIf="errorMessage" style="color:red; margin-top: 10px;">
    {{ errorMessage }}
  </p>

  <p *ngIf="successMessage" style="color:green; margin-top: 10px;">
    {{ successMessage }}
  </p>
</form>
