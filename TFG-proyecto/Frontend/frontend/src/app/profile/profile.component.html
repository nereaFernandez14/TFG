<div class="perfil-wrapper">
  <section class="perfil-contenido">
    <div class="perfil-container">

      <!-- üßë Perfil -->
      <div class="perfil-card">
        <div class="perfil-header">
          <i class="fas fa-user-circle perfil-icon"></i>
          <h2>{{ usuario?.nombre }} {{ usuario?.apellidos }}</h2>
        </div>
        <div class="perfil-info">
          <p><i class="fas fa-envelope icon-inline"></i> <strong>Email:</strong> {{ usuario?.email }}</p>
          <p><i class="fas fa-user-tag icon-inline"></i> <strong>Rol:</strong>
            {{
              usuario?.rol === 'ADMIN' ? 'Administrador' :
              usuario?.rol === 'USUARIO' ? 'Usuario' :
              usuario?.rol === 'RESTAURANTE' ? 'Restaurante' :
              usuario?.rol
            }}
          </p>
        </div>
      </div>

      <!-- üçΩÔ∏è Sube tu men√∫ (primero) -->
      <div *ngIf="usuario?.rol === 'RESTAURANTE'" class="menu-upload-wrapper">
        <div class="menu-upload-section">
          <h3><i class="fas fa-utensils"></i> Subir Men√∫</h3>
          <form (submit)="subirArchivo($event)">
            <input type="file" accept=".pdf,image/*" (change)="onFileSelected($event)" required />
            <button type="submit"><i class="fas fa-upload"></i> Subir archivo</button>
            <p *ngIf="nombreArchivo">
              <i class="fas fa-file-alt"></i> {{ nombreArchivo }}
            </p>
          </form>
        </div>
      </div>

      <!-- üîê Bot√≥n cambiar contrase√±a -->
      <div class="perfil-actions">
        <button (click)="irACambiarPassword()">
          <i class="fas fa-lock"></i> Cambiar contrase√±a
        </button>
      </div>

      <!-- üö´ Bot√≥n baja -->
      <div *ngIf="usuario?.rol === 'USUARIO' || usuario?.rol === 'RESTAURANTE'" class="perfil-actions">
        <button class="baja-btn" (click)="solicitarBaja()">
          <i class="fas fa-user-slash"></i> Solicitar baja de {{ usuario?.rol?.toLowerCase() }}
        </button>
      </div>
    </div>
  </section>
</div>
